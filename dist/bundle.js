(()=>{"use strict";var s={d:(t,n)=>{for(var a in n)s.o(n,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(s,t)=>Object.prototype.hasOwnProperty.call(s,t)};s.d({},{H:()=>l});const t="difficulty",n="game";function a(s){for(let t=s.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[s[t],s[n]]=[s[n],s[t]]}return s}function e(s){return{Hearts:'<img src="./static/img/hearts.svg" alt="hearts">',Diamonds:'<img src="./static/img/diamonds.svg" alt="diamonds">',Clubs:'<img src="./static/img/clubs.svg" alt="clubs">',Spades:'<img src="./static/img/spades.svg" alt="spades">'}[s]}let i=null;const l={gameTime:0,difficulty:null,gameStatus:i,cards:[],selectedCards:[]},c=s=>{if([t,n].includes(s))return s===t?(i=t,d()):(s===n&&d(),i=s,void d());throw new Error("страницы не существует")},d=()=>{const s=document.getElementById("app");if(i===t)return function({appEl:s,goToPage:t}){s.innerHTML='<div class="main">\n    <form class="difficulty-form">\n                    <div class="difficulty-box">\n                        <p class="difficulty-box__title">Выбери сложность</p>\n                        <div class="difficulty-box__container">\n                            <label class="difficulty-box__item">\n                                <input type="radio" name="difficulty" value="1" />\n                                <span class="difficulty-box__item-text">1</span>\n                            </label>\n                            <label class="difficulty-box__item">\n                                <input type="radio" name="difficulty" value="2" />\n                                <span class="difficulty-box__item-text">2</span>\n                            </label>\n                            <label class="difficulty-box__item">\n                                <input type="radio" name="difficulty" value="3" />\n                                <span class="difficulty-box__item-text">3</span>\n                            </label>\n                        </div>\n                        <button type="submit" class="btn" id="start-btn">Старт</button>\n                        <div class="form-error"></div>\n                    </div>\n                </form>\n                </div>';const e=s.querySelector(".difficulty-form"),i=s.querySelector(".form-error"),c=document.querySelectorAll(".difficulty-box__item");let d=null;function r(s){i.textContent=s}c.forEach((s=>{s.addEventListener("click",(()=>{r(""),null!==d&&d.classList.remove("selected"),s.classList.add("selected"),d=s}))})),e.addEventListener("submit",(s=>{s.preventDefault();const i=e.querySelector("input[name='difficulty']:checked");if(!i)return void r("Выберите уровень сложности!");const c=parseInt(i.value);l.difficulty=c,l.gameStatus=n,l.cards=function(s){let t=[];const n=["Diamonds","Hearts","Clubs","Spades"],e=["A","K","Q","J","10","9","8","7","6"];for(let s of a(n))for(let n of a(e))t.push({suit:s,rank:n});return t=a(t).slice(0,3*s).flatMap((s=>[s,{...s}])),a(t)}(c),t(n)}))}({appEl:s,goToPage:c});if(i===n){const n=l.cards;return function({appEl:s,goToPage:n,playCards:a}){const i=`<div class="game">\n    <div class="game__info">\n      <div class="timer">\n        <div class="timer__block">\n          <span class="timer__label">min</span>\n          <span id="minutes">00</span>\n        </div>\n        <span class="timer__dot">.</span>\n        <div class="timer__block">\n          <span class="timer__label">sek</span>\n          <span id="seconds">00</span>\n        </div>\n      </div>\n      <button class="game__btn btn">Начать заново</button>\n    </div>\n    <div class="cards">${a.map(((s,t)=>(console.log(s),`<div class="card visible" data-index="${t}">\n                            <div class="card__back">\n                                <img src="./static/img/card-back.png" alt="card back">\n                            </div>\n                            <div class="card__front">\n                                <div class="card__top-left">\n                                    <span class="rank">${s.rank}</span>\n                                    <span class="small-suit">${e(s.suit)}</span>\n                                </div>\n                                <div class="card__center-suit">${e(s.suit)}\n                                </div>\n                                <div class="card__down-right">\n                                    <span class="rank">${s.rank}</span>\n                                    <span class="small-suit">${e(s.suit)}</span>\n                                </div> \n                            </div>  \n                        </div>`))).join("")}</div>\n  `;s.innerHTML=i;const l=s.querySelectorAll(".card");let c=[],d=0;l.forEach((s=>{s.classList.remove("visible")})),setTimeout((()=>{l.forEach((s=>{s.classList.add("visible")}))}),500),setTimeout((()=>{l.forEach((s=>{s.classList.remove("visible")}))}),5e3),l.forEach(((s,e)=>{s.addEventListener("click",(()=>{if(c.length<2&&!s.classList.contains("matched")&&!s.classList.contains("visible")&&(s.classList.add("visible"),c.push({element:s,index:e}),2===c.length)){const s=a[c[0].index],e=a[c[1].index];s.rank===e.rank&&s.suit===e.suit?(c.forEach((s=>{setTimeout((()=>{s.element.classList.add("matched")}),600)})),d++,d===a.length/2&&setTimeout((()=>{alert("Вы победили!"),n(t)}),800)):setTimeout((()=>{alert("Вы проиграли!"),n(t)}),800),c=[]}}))})),document.querySelector(".game__btn").addEventListener("click",(()=>{console.log("start"),n(t)}))}({appEl:s,goToPage:c,playCards:n})}};c(t)})();